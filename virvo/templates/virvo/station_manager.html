{% extends 'virvo/_base.html' %}




{% block content %}
<div class=" context">
      

      

      <div id="u1031" class="ax_default" data-label="站点管理">
          <div id="u1031_state0" class="panel_state" data-label="站点" style="">
            <div id="u1031_state0_content" class="panel_state_content">

              <!-- Unnamed (矩形) -->
              <div id="u1032" class="ax_default box_1">
                <div id="u1032_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u1033" class="text" style="display:none; visibility: hidden">
                  <p><span></span></p>
                </div>
              </div>

              <!-- Unnamed (矩形) -->
              <div id="u1034" class="ax_default box_1">
                <div id="u1034_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u1035" class="text" style="display:none; visibility: hidden">
                  <p><span></span></p>
                </div>
              </div>

              <!-- Unnamed (表格) -->
              <div id="u1036" class="ax_default">

                <div class="list-group" role="tab" id="heading">
                    <div>
                      <a data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="true" aria-controls="collapse1" class="list-group-item active main-color-bg">
                        <span class="fa fa-caret-down" title="Toggle dropdown menu"></span> 站点管理
                      </a>
                    </div>
                    
                        <div id="collapse1" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading">
                          <div>
                            {% include 'virvo/table_station.html' %}
                          </div>
                      </div>
                    
                </div>

                <!-- Modal -->
                <div class="modal " id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ">
                  <div class="modal-dialog" style="width:1200px;>
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">
                       <span aria-hidden="true">&times;   </span><span class="sr-only">Close</span></button>
                      <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                    </div>
                    <div class="modal-body">
                      {% include 'virvo/panel_content.html' %}
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-primary">import</button>
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                   </div>
                  </div>
                </div>
                <!-- /.modal -->

   

            <!-- Unnamed (表格) -->
            <!-- <div id="u920" class="ax_default"> -->
                
            <!-- </div> -->
        </div>
    </div>
  </div>
  </div>  

</div>  
{% endblock content %}







   {% block javascript %}
   {{ block.super }}
    <script type="text/javascript">
        
        $("#tb_stations").on('click', '.btnDelete', function () {
            $(this).closest('tr').remove();
        });

        $(".bbtnAlter[data-target='#myModal']").click(function() {

           // Get array of column Headings
           var columnHeadings = $("thead th").map(function() {
                         return $(this).text();
           }).get();
           // Remove the last column heading (for the Edit button)
           columnHeadings.pop();
           // Get array of column values from the row where the Edit button was clicked
           var columnValues = $(this).parent().siblings().map(function() {
                         return $(this).text();
           }).get();
           var modalBody = $('<div id="modalContent"></div>');
           var modalForm = $('<form role="form" name="modalForm" action="" method="post"></form>');
           // Create the form in the modal dynamically
           $.each(columnHeadings, function(i, columnHeader) {
               var formGroup = $('<div class="form-group"></div>');
               formGroup.append('<label for="'+columnHeader+'">'+columnHeader+'</label>');
               formGroup.append('<input class="form-control" name="'+columnHeader+i+'" id="'+columnHeader+i+'" value="'+columnValues[i]+'" />'); 
               modalForm.append(formGroup);
           });
           modalBody.append(modalForm);
           $('.modal-body').html(modalBody);
        });

        // $("#tb_stations").on('click', '.btnAlter', function () {
        //     // $(this).closest('tr').remove();
        // });
    </script>
{% endblock %}